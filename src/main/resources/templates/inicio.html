<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html lang="es" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>OpenCATweb - login</title>
        <div th:replace="fragments :: head"></div>
    </head>
    <body>
        <!-- navigation bar -->
        <div th:replace="fragments :: nav_principal"></div>
        <!-- filtrar proyectos-->
        <div class="card">
            <div class="card-body">
                <h3 th:text="${session.usuariosession.username}"></h3>
                <button th:each="proyecto: ${proyectos}" class="btn bg-dark">
                    <a  th:href="@{/inicio(idProyecto=__${proyecto.id}__)}">
                        <span th:text="${proyecto.name}" th:value="${proyecto.id}"></span>
                    </a>
                </button>
            </div>
        </div>
       <!-- cargar segmento -->
        <div class="card">
            <form method="POST" action="/crearsegmento" class="card-body">
                <h3 class="card-title">Crear segmento</h3>
                <h4 th:if="${mensaje!=null}" th:text="${mensaje}"></h4>
                <label>Proyecto</label>
                <select th:each="proyecto : ${proyectos}" name="idProyecto">
                    <option th:text="${proyecto.name}" th:value="${proyecto.id}"></option>
                </select>
                <label>Texto fuente</label>
                <textarea type="text" rows="3" name="" maxlength="2000" required></textarea>
                <button type="submit" class="btn btn-success">Crear</button>
            </form>
        </div>
        <!-- mostrar segmentos para su traducciÃ³n-->
        <div th:if="${segmentos!=null}">
            <div th:each="segmento: ${segmentos}" class="card">
                <div class="card-body">
                    <p th:text="${segmento.sourceText}"></p>
                    <p th:unless="${segmento.targetText == null}" style="color: green;">segmento traducido</p>
                    <p th:if="${segmento.targetText == null}" style="color: red;">segmento sin traducir</p>
                    <button class="btn bg-dark">
                        <a  th:href="@{/segmento/${proyecto.id}}">Traducir</a>
                    </button>
                </div>
            </div>
        </div>
        <!-- script-->
        <div th:replace="fragments :: scripts"></div>
    </body>
</html>
